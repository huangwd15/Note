# 计算机组成原理

**计算机系统层次结构**

从高到低依次为：

- 高级语言机器(虚拟机器M4)
- 汇编语言机器(虚拟机器M3)
- 操作系统机器(虚拟机器M2)
- 传统机器(M1)
- 微程序机器(M0)

编译器：将高级语言编写的源程序一次性全部翻译成机器语言，然后再执行。
解释器：将源程序的一条语句翻译成机器语言并立即执行。

**存储器大小**

- 2^10: KB
- 2^20: MB
- 2^30: GB
- 2^40: TB

**二进制**

整数部分：除基取余法，先取的余数是低位
小数部分：乘基取整法，先取的整数是高位

**BCD码**
用二进制表示十进制的数
每4个二进制对应一个十进制

**ASCII码**
用二进制表示字符，0-127

GB2312，7445个字符

**奇偶校验**

码距为2，即有两位不同

在信息位的首部或者尾部添加一个校验位

如果使用奇校验，要保证信息中"1"的个数为奇数
如果使用偶校验，要保证信息中"1"的个数为偶数

**海明校验码**

基本思想：分组偶校验，多个校验位可反映出错位置

确定校验位个数： `2^k >= n + k + 1` (k个校验位，n个信息位)

比如有4个信息位，那么 `2^3 >= 4 + 3 +1` ,就有3个校验位

3个校验位依次填入第1、2、4、8... 2^n 个位置，其他位置依次填入信息位

求校验位：

- 将信息位的位置序号用K位二进制表示
- 校验位Pi与所有二进制的第i位归为一组，进行偶校验

就得到了校验位。

纠错：

将Pi分组进行异或计算，因为是偶校验，有偶数个1，所以异或的结果一定是0。
如果不是0，其值就是出错位置。(只使用于有一位出错的情况)

全校验位：对整体进行偶校验，区分1位错还是2位错。

海明码有一位纠错，两位检错能力。

**循环冗余校验码**

由多项式确定"除数"，K个信息位 + R个0作为"被除数"

被除数、除数进行 "模二除"，得到R位余数

**无符号数**

只能修饰整数，n位无符号数的表示范围：0 ~ 2^n-1

**有符号数**

0表示正，1表示负

原码
数字的二进制表示

反码
正数：和原码相同
负数：数值位取反

补码
正数：和原码相同
负数：数值位取反+1
取反加一其实就是该负数的绝对值
作用：将减法操作转变为加法
比如计算 8-6，就是8的二进制加-6的补码，结果是2

移码
补码的基础上将符号位取反
移码只能用于表示整数

**算数移位**

左移相当于x2
右移相当于÷2

移位不能精确等效乘法和除法
容易产生误差

**原码一位乘法**

符号通过异或决定；数值部分通过被乘数和乘数绝对值的n轮加法、位移完成

每次结果都用ACC和MQ共同保存，ACC保存结果高位，MQ保存结果低位

**补码一位乘法**

和原码一位乘法不同点：

1. 符号位不位移
2. 最后结果要加上乘数的补码

**C语言强制类型转化**

无损：

- char -> int -> long -> double
- float -> double

有损：

- int -> float：可能会损失精度（float尾数的数值有1+23位，而int有64位）
- float -> int：可能会溢出，也可能会损失精度，比如小数转整数


**存储元**

存储元是存储器的最小存储单元，它的作用是用来存放一位二进制代码0或1。

存储芯片的数据线数和地址线数共同反应存储芯片容量的大小。

比如10根地址线、8根数据线，则芯片容量 = 2^10*8 = 8K 位

**RAM易失性存储器**

- SRAM:触发器存储信息，速度快，常用做告诉缓存
- DRAM:电容存储信息，常用做主存

**操作码扩展**

留出 1111 作为保留字段，读到1111表示下一个地址保存的是操作码



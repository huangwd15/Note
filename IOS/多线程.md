# 多线程

## 原理

- 单核CPU同一时间，只能处理一个线程；
- 当CPU在多个线程间切换时，就形成了多线程。

优点：

提高程序执行效率

缺点：

开启线程需要占用一定内存空间（默认512KB）

## IOS中多线程技术方案

| 技术方案 | 介绍 | 语言 | 生命周期 | 使用频率 |
| -- | -- | -- | -- | -- |
| pthread | 一套通用的多线程API <br/> 跨平台 <br/>难度大 | C | 程序员管理 | 不用 |
| NSThread | 面向对象，简单 | OC | 程序员管理 | 偶尔 |
| GCD | 替代NSThread | C | 自动管理 | 经常 |
| NSOperation | 基于GCD <br/> 更加面向对象 | OC | 自动管理 | 经常 | 

## 互斥锁

用于线程同步，防止多线程抢夺资源造成数据安全问题。

加锁后效率降低。

原理：

每个对象内部都有一个变量， 线程执行之前先检查状态